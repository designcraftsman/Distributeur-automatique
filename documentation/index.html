<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vending Machine Simulation - Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block d-sm-none sidebar collapse" id="sidebar">
                <div class="position-fixed">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#introduction">Introduction</a></li>
                        <ul class="nav flex-column ms-3">
                            <li class="nav-item"><a class="nav-link" href="#project-overview">Project Overview</a></li>
                            <li class="nav-item"><a class="nav-link" href="#installation-setup">Installation Setup</a></li>
                            <li class="nav-item"><a class="nav-link" href="#technologies-used">Technologies Used</a></li>
                            <ul class="nav flex-column ms-3">
                                <li class="nav-item"><a class="nav-link" href="#backend-technologies">Backend Technologies</a></li>
                                <li class="nav-item"><a class="nav-link" href="#testing-tools">API Testing Tools</a></li>
                                <li class="nav-item"><a class="nav-link" href="#frontend-technologies">Frontend Technologies</a></li>
                                <li class="nav-item"><a class="nav-link" href="#development-deployment-tools">Development & Deployment Tools</a></li>
                            </ul>
                        </ul>
                        <li class="nav-item"><a class="nav-link" href="#uml-diagrams">UML Diagrams</a></li>
                        <ul class="nav flex-column ms-3">
                            <li class="nav-item"><a class="nav-link" href="#use-case-diagram">Use Case Diagram</a></li>
                            <li class="nav-item"><a class="nav-link" href="#sequence-diagram">Sequence Diagram</a></li>
                            <li class="nav-item"><a class="nav-link" href="#class-diagram">Class Diagram</a></li>
                        </ul>
                        <li class="nav-item"><a class="nav-link" href="#api-documentation">API</a></li>
                        <ul class="nav flex-column ms-3">
                            <li class="nav-item"><a class="nav-link" href="#folders">Folders</a></li>
                            <li class="nav-item"><a class="nav-link" href="#files">Files</a></li>
                            <li class="nav-item"><a class="nav-link" href="#routes-testing">Routes Testing</a></li>
                            <ul class="nav flex-column ms-3">
                                <li class="nav-item"><a class="nav-link" href="#list-of-products">List of Products</a></li>
                                <li class="nav-item"><a class="nav-link" href="#insert-coin">Insert Coin</a></li>
                                <li class="nav-item"><a class="nav-link" href="#select-product">Select Product</a></li>
                                <li class="nav-item"><a class="nav-link" href="#confirm-transaction">Confirm Transaction</a></li>
                                <li class="nav-item"><a class="nav-link" href="#cancel">Cancel</a></li>
                                <li class="nav-item"><a class="nav-link" href="#reset">Reset</a></li>
                            </ul>
                        </ul>
                        <li class="nav-item"><a class="nav-link" href="#frontend-documentation">Frontend</a></li>
                        <ul class="nav flex-column ms-3">
                            <li class="nav-item"><a class="nav-link" href="#frontend-folders">Folders</a></li>
                            <li class="nav-item"><a class="nav-link" href="#frontend-files">Files</a></li>
                            <li class="nav-item"><a class="nav-link" href="#aframe-walkthrough">Use of A-Frame</a></li>
                            <li class="nav-item"><a class="nav-link" href="#frontend-functions">Key Functions</a></li>
                            <li class="nav-item"><a class="nav-link" href="#interface-ui">Interface UI</a></li>
                            <li class="nav-item"><a class="nav-link" href="#video-demonstration">Video Demonstration</a></li>
                        </ul>
                        <li class="nav-item"><a class="nav-link" href="#resources">Resources</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main content -->
            <main class="col-md-9 m-auto col-lg-7 main-content">
                <!-- Introduction -->
                <section id="introduction" class="section">
                    <h1 class="display-6 fw-bold my-5">Distributeur Automatique - Documentation</h1>
                    <hr class="my-5">

                    <!-- Project Overview -->
                    <section id="project-overview">
                        <h2 class="fw-bold fs-4 my-3">Project Overview</h2>
                        <p>
                            The vending machine simulation is a web-based application designed to replicate the functionality of a physical vending machine. 
                            It allows users to interact with a 3D interface to select products, insert coins, and receive change. The backend API handles all transaction logic, ensuring smooth operations.
                        </p>
                        <p>
                            This project is ideal for demonstrating concepts such as object-oriented programming, API design, and frontend-backend integration.
                        </p>
                    </section>
                    <hr/>

                    <!-- Installation & Setup -->
                <section id="installation-setup">
                <h2 class="fw-bold fs-4 my-3">Installation & Setup</h2>
                <p>
                    There are two ways to set up and run the vending machine simulation:
                </p>

                <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Option 1: Standard Installation (GitHub + VS Code)</h5>
                </div>
                <div class="card-body">
                    <h5 class="fw-bold my-2">Prerequisites</h5>
                    <ul>
                        <li>Node.js (v14.0.0 or later)</li>
                        <li>npm (v6.0.0 or later)</li>
                        <li>Git</li>
                        <li>Visual Studio Code (recommended)</li>
                    </ul>

                    <h5 class="fw-bold my-2">Steps</h5>
                    <ol>
                        <li>Clone the repository:
                            <pre class="terminal"><code><span class="command">git clone</span> <span class="path">https://github.com/designcraftsman/distributeur-automatique.git</span><br><span class="command">cd</span> <span class="path">distributeur-automatique</span></code></pre>
                        </li>
                        <li class="mb-3">Open the project in VS Code.
                            
                        </li>
                        <li>Set up the backend:
                            <pre class="terminal"><code><span class="command">cd</span> <span class="path">backend</span><br><span class="command">npm install</span><br><span class="command">npm start</span></code></pre>
                            <p class="text-muted small">The API will be available at <code>http://localhost:4200</code></p>
                        </li>
                        <li>In a new terminal, set up the frontend:
                            <pre class="terminal"><code><span class="command">cd</span> <span class="path">frontend</span><br><span class="command">npm install</span><br><span class="command">npm start</span></code></pre>
                            <p class="text-muted small">The application will be available at <code>http://localhost:3000</code></p>
                        </li>
                    </ol>
                </div>
            </div>

                <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">Option 2: Docker Installation</h5>
                </div>
                <div class="card-body">
                    <h5 class="fw-bold my-2">Prerequisites</h5>
                    <ul>
                        <li>Docker</li>
                        <li>Docker Compose</li>
                    </ul>

                    <h5 class="fw-bold my-2">Steps</h5>
                    <ol>
                        <li>Clone the repository:
                            <pre class="terminal"><code><span class="command">git clone</span> <span class="path">https://github.com/designcraftsman/distributeur-automatique.git</span><br><span class="command">cd</span> <span class="path">distributeur-automatique</span></code></pre>
                        </li>
                        <li>Pull the Docker images:
                            <pre class="terminal"><code><span class="command">docker pull</span> <span class="path">designcraftsman/vending-machine-api:latest</span><br><span class="command">docker pull</span> <span class="path">designcraftsman/vending-machine-frontend:latest</span></code></pre>
                        </li>
                        <li>Start the application using Docker Compose:
                            <pre class="terminal"><code><span class="command">docker-compose up</span></code></pre>
                        </li>
                        <li>Access the application:
                            <p>Open your browser and navigate to:</p>
                            <ul>
                                <li><code>http://localhost:3000</code> for the frontend</li>
                                <li><code>http://localhost:4200</code> for the backend API</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>

                <div class="alert alert-info mt-4">
                    <i class="fas fa-info-circle me-2"></i> 
                    <strong>Note:</strong> Both installation methods will provide the same functionality. Choose the method that best fits your environment and preferences. Docker provides a more isolated and consistent environment but requires Docker to be installed.
                </div>
            </section>
                    <hr/>

                    <!-- Technologies Used -->
                    <section id="technologies-used">
                        <h2 class="fw-bold fs-4 my-4">Technologies Used</h2>

                        <!-- Backend Technologies -->
                        <section id="backend-technologies">
                            <h3 class="fw-bold fs-5 my-3">Backend Technologies</h3>
                            <p>
                                The backend of the vending machine simulation is built using the following technologies:
                            </p>
                            <div class="d-flex justify-content-center mb-3">
                                <div class="col-2 m-auto">
                                    <img src="assets/images/node-logo.png" class="img-fluid" alt="node">
                                </div>
                                <div class="col-2 m-auto">
                                    <img src="assets/images/express-logo.png" class="img-fluid" alt="node">
                                </div>
                                
                            </div>
                            <ul>
                                <li><strong>Node.js:</strong> A JavaScript runtime environment used to build the backend server. It provides an efficient and scalable platform for handling API requests and managing application logic.</li>
                                <li><strong>Express:</strong> A lightweight web application framework for Node.js, used to define API routes, handle HTTP requests, and manage middleware for the application.</li>
                            </ul>
                            <p>
                                These technologies ensure a fast and reliable backend capable of handling vending machine operations like product selection, payment processing, and transaction management.
                            </p>
                        </section>
                        <hr/>

                        <!-- Testing Tools -->
                        <section id="testing-tools">
                            <h3 class="fw-bold fs-5 my-3">API Testing Tools</h3>
                            <p>
                                To test the API routes and ensure proper functionality, the following tool is used:
                            </p>
                              <div class="d-flex justify-content-center mb-3">
                                <div class="col-2 m-auto">
                                    <img src="assets/images/postman-logo.jpg" class="img-fluid" alt="node">
                                </div>                                
                            </div>
                            <ul>
                                <li><strong>Postman:</strong> A popular API testing tool used to send requests to the backend routes and verify their responses. It allows developers to test endpoints like inserting coins, selecting products, and confirming transactions efficiently.</li>
                            </ul>
                            <p>
                                Postman simplifies the process of debugging and validating the backend logic during development.
                            </p>
                        </section>
                        <hr/>

                        <!-- Frontend Technologies -->
                        <section id="frontend-technologies">
                            <h3 class="fw-bold fs-5 my-3">Frontend Technologies</h3>
                            <p>
                                The frontend of the vending machine simulation is built using modern web technologies to create an interactive and visually appealing user interface:
                            </p>
                              <div class="d-flex justify-content-center mb-3">
                                <div class="col-2 m-auto">
                                    <img src="assets/images/react-logo.webp" class="img-fluid" alt="node">
                                </div>
                                <div class="col-2 m-auto">
                                    <img src="assets/images/aframe-logo.png" class="img-fluid" alt="node">
                                </div>
                                <div class="col-2 m-auto">
                                    <img src="assets/images/bootstrap-logo.jpeg" class="img-fluid" alt="node">
                                </div>
                                <div class="col-2 m-auto">
                                    <img src="assets/images/sass-logo.png" class="img-fluid" alt="node">
                                </div>
                                
                            </div>
                            <ul>
                                <li><strong>React.js:</strong> A JavaScript library for building user interfaces. It is used to create the dynamic components of the vending machine, such as the 3D interface and product selection panel.</li>
                                <li><strong>A-Frame:</strong> A web framework for building 3D and VR experiences. It is used to render the vending machine and products in a realistic 3D environment.</li>
                                <li><strong>Bootstrap:</strong> A CSS framework for styling the application and ensuring responsiveness across devices. It provides pre-designed components for a clean and professional look.</li>
                                <li><strong>SASS:</strong> A CSS preprocessor used to write modular and maintainable styles for the application. It simplifies the process of managing complex stylesheets.</li>
                            </ul>
                            <p>
                                These frontend technologies work together to deliver a seamless and engaging user experience for interacting with the vending machine simulation.
                            </p>
                        </section>
                        <hr/>

                        <!-- Development & Deployment Tools -->
                        <section id="development-deployment-tools">
                            <h3 class="fw-bold fs-5 my-3">Development & Deployment Tools</h3>
                            <p>
                                The project utilizes these essential tools for development, testing, and deployment:
                            </p>
                            <div class="d-flex justify-content-center mb-3">
                                <div class="col-2 m-auto">
                                    <img src="assets/images/visualStudio-logo.png" class="img-fluid" alt="Visual Studio Code">
                                </div>
                                <div class="col-2 m-auto">
                                    <img src="assets/images/docker-logo.png" class="img-fluid" alt="Docker">
                                </div>
                            </div>
                            <ul>
                                <li><strong>Visual Studio Code:</strong> A lightweight but powerful source code editor used for developing both frontend and backend components. Its extensive ecosystem of extensions provides support for JavaScript, React, and Node.js development, making it ideal for this project.</li>
                                <li><strong>Docker:</strong> A platform for developing, shipping, and running applications in containers. Docker ensures consistent environments across development and production, simplifying deployment and eliminating "it works on my machine" problems.</li>
                            </ul>
                            <p>
                                These tools enhance the development workflow by providing a consistent environment and powerful editing capabilities, ensuring code quality and deployment reliability throughout the project lifecycle.
                            </p>
                        </section>
                    </section>
                </section>
                <hr/>

                <!-- UML Diagrams -->
                <!-- UML Diagrams -->
                <section id="uml-diagrams" class="section">
                    <h2 class="fw-bold fs-2 my-3">UML Diagrams</h2>

                    <!-- Use Case Diagram -->
                    <section id="use-case-diagram">
                        <h3 class="fw-bold fs-4 my-3">Use Case Diagram</h3>
                        <p>
                            This diagram illustrates the interactions between the user and the vending machine system. 
                            The user can perform actions like inserting money, browsing the product catalog, adding products to the cart, confirming or canceling a transaction. 
                            The system performs internal operations such as updating the balance, verifying the balance, dispensing the product, returning the change, and resetting its state.
                            <img src="assets/images/use-case.png" alt="Use Case Diagram" class="img-fluid my-3">
                        </p>
                    </section>
                    <hr/>

                    <!-- Sequence Diagram -->
                    <section id="sequence-diagram">
                        <h3 class="fw-bold fs-4 my-3">Sequence Diagram</h3>
                        <p>
                            This diagram details the step-by-step flow of purchasing a product from the vending machine:
                            <ol>
                                <li>The user starts by requesting to view the product catalog.</li>
                                <li>The user inserts coins; the system updates and displays the current balance.</li>
                                <li>The user selects products, and the system adds them to the cart.</li>
                                <li>Once the balance is sufficient, the user confirms the transaction.</li>
                                <li>The system calculates change, resets internal state, dispenses the change, and finally dispenses the selected products.</li>
                            </ol>
                            This diagram emphasizes the loops for inserting money and selecting multiple products.
                            <img src="assets/images/sequence.png" alt="Sequence Diagram" class="img-fluid my-3">
                        </p>
                    </section>
                    <hr/>

                    <!-- Class Diagram -->
                    <section id="class-diagram">
                        <h3 class="fw-bold fs-4 my-3">Class Diagram</h3>
                        <p>
                            This diagram shows the object-oriented structure of the vending machine system, including the relationships between key classes:
                            <ul>
                                <li><strong>VendingMachine:</strong> The main class managing balance, cart, inventory, payments, and product dispensing.</li>
                                <li><strong>Cart:</strong> Holds selected products; allows adding and clearing products and calculating total amount.</li>
                                <li><strong>ProductInventory:</strong> Maintains available products and checks product availability.</li>
                                <li><strong>PaymentProcessor:</strong> Handles balance, money insertion, change calculation, and balance reset.</li>
                                <li><strong>Dispenser:</strong> Responsible for dispensing products and change.</li>
                                <li><strong>Product:</strong> Represents individual items with ID, name, and price.</li>
                                <li><strong>AcceptedCoins (Enumeration):</strong> Lists allowed coin denominations (e.g., 0.5MAD, 1MAD, etc.).</li>
                            </ul>
                            The diagram clearly reflects how components collaborate in the system.
                            <img src="assets/images/class.png" alt="Class Diagram" class="img-fluid my-3">
                        </p>
                    </section>
                </section>

                <hr/>

                <!-- API Documentation -->
                <section id="api-documentation" class="section">
                    <h2 class="fw-bold fs-1 my-3">API</h2>
                    <p><strong>Overview:</strong> The API is responsible for handling backend operations such as managing products, processing transactions, and maintaining user balances.</p>
                    <p><strong>File tree:</strong></p>
                    <p>
                        <img src="assets/images/api-structure.png" class="img-fluid my-3" alt="API File Structure">
                    </p>
                    <p>
                        <img src="assets/images/api-src.png" class="img-fluid my-3" alt="API File Structure">
                    </p>
                    <hr/>

                    <!-- Folders -->
                    <section id="folders">
                    <h3 class="fw-bold fs-4 my-3">Folders</h3>
                    <ul>
                        <li><strong>src:</strong> Contains the main source code for the API, including all the subfolders and files required for backend functionality.</li>
                        <li><strong>routes:</strong> Defines the API endpoints and their logic. Each route corresponds to a specific functionality, such as inserting coins, selecting products, confirming purchases, and canceling transactions.</li>
                        <li><strong>models:</strong> Contains the models used in the application.</li>
                        <li><strong>services:</strong> Implements the core business logic for the vending machine operations. This includes managing the cart, inventory, payment processing, and dispensing products and change.</li>
                        <li><strong>utils:</strong> Contains utility files that provide helper functions or constants used across the application. </li>
                        <li><strong>assets:</strong> Stores static files such as 3D models (`.glb`) used for rendering products in the vending machine interface. Example: `objects/candy_bar.glb`, `objects/chips.glb`.</li>
                    </ul>
                    </section>
                                        <hr/>

                                        <!-- Files -->
                                        <section id="files">
                    <h3 class="fw-bold fs-4 my-3">Files</h3>
                    <ul>
                        <li><strong>server.js:</strong> The entry point of the API. Sets up the Express server, connects to the database, and initializes middleware and routes.</li>
                        <li><strong>routes/VendingRoutes.js:</strong> Defines routes for vending machine operations, such as inserting coins, selecting products, confirming purchases, and canceling transactions.</li>
                        <li><strong>models/Product.js:</strong> Defines the schema for products, including fields like `id`, `name`, `price`, `glb` (3D model file), `position`, and `scale` for rendering in the vending machine interface.</li>
                        <li><strong>controllers/VendingController.js:</strong> Implements the logic for vending machine operations. Handles requests and responses for routes like inserting coins, selecting products, and confirming transactions.</li>
                        <li><strong>services/VendingMachineService.js:</strong> Manages the core vending machine functionality, including payment processing, product selection, and dispensing products and change.</li>
                        <li><strong>services/PaymentService.js:</strong> Handles payment-related operations, such as inserting money, calculating change, and managing the balance.</li>
                        <li><strong>services/InventoryService.js:</strong> Manages the inventory of products in the vending machine. Provides methods to check product availability and retrieve product details.</li>
                        <li><strong>services/DispenserService.js:</strong> Handles the dispensing of products and change. Simulates the physical dispensing process in the vending machine.</li>
                        <li><strong>services/CartService.js:</strong> Manages the user's cart during a transaction. Tracks selected products and calculates the total amount.</li>
                    </ul>
                    </section>
                    <hr/>

                    <!-- Routes Testing -->
                    <section id="routes-testing">
                <h3 class="fw-bold fs-4 my-3">Routes Testing</h3>
                <section id="list-of-products">
                <p>
                    <strong>List of Products:</strong> This route retrieves all available products in the vending machine. It ensures the frontend displays accurate product information, including names, prices, positions, and scales.
                    <img src="assets/images/getProducts-Route.png" alt="System Architecture Diagram" class="img-fluid my-3">
                    <ul>
                        <li>Method: GET</li>
                        <li>Endpoint: <code>/api/products</code></li>
                        <li>Expected Response: JSON array of products with fields like:
                            <ul>
                                <li><code>id</code>: Unique identifier for the product.</li>
                                <li><code>name</code>: Name of the product.</li>
                                <li><code>price</code>: Price of the product.</li>
                                <li><code>position</code>: Specifies the 3D coordinates (<code>x</code>, <code>y</code>, <code>z</code>) to correctly position the product in the vending machine interface.</li>
                                <li><code>scale</code>: Defines the size of the product in the 3D environment to ensure it appears proportionate and realistic.</li>
                            </ul>
                        </li>
                    </ul>
                </p>
            </section>
                <hr/>
                <section id="insert-coin">
                    <p>
                        <strong>Insert Coin:</strong> This route handles coin insertion by the user. It updates the backend with the amount inserted and ensures the frontend reflects the updated balance.
                        <img src="assets/images/insertCoin-Route.png" alt="System Architecture Diagram" class="img-fluid my-3">
                        <ul>
                            <li>Method: POST</li>
                            <li>Endpoint: <code>/api/insert-coin</code></li>
                            <li>Request Body: <code>{ "amount": 5 }</code></li>
                            <li>Expected Response: Updated balance in JSON format, e.g., <code>{ "balance": 5 }</code>.</li>
                        </ul>
                    </p>
                </section>
                <hr/>
                <section id="select-product">
                    <p>
                        <strong>Select a Product:</strong> This route allows the user to select a product. It verifies if the user has sufficient balance and updates the backend accordingly.
                        <img src="assets/images/selectProduct-Route.png" alt="System Architecture Diagram" class="img-fluid my-3">
                        <ul>
                            <li>Method: POST</li>
                            <li>Endpoint: <code>/api/select-product</code></li>
                            <li>Request Body: <code>{ "productId": "123" }</code></li>
                            <li>Expected Response: Confirmation of product selection or an error message if the balance is insufficient.</li>
                        </ul>
                    </p>
                </section>
                <hr/>
                <section id="confirm-transaction">
                    <p>
                        <strong>Confirm Transaction:</strong> This route finalizes the purchase. It deducts the product price from the balance, updates the stock, and calculates the change to be dispensed.
                        <img src="assets/images/confirmPurchase-Route.png" alt="System Architecture Diagram" class="img-fluid my-3">
                        <ul>
                            <li>Method: POST</li>
                            <li>Endpoint: <code>/api/confirm-transaction</code></li>
                            <li>Expected Response: JSON object with fields like <code>dispensedProducts</code> ,<code>change</code> and <code>balance</code>.</li>
                        </ul>
                    </p>
                </section>
                <hr/>
                <section id="cancel">
    <p>
        <strong>Cancel:</strong> This route cancels the current transaction and refunds the inserted coins. It ensures the backend resets the balance and the frontend reflects the cancellation.
        <img src="assets/images/cancel-Route.png" alt="Cancel Transaction" class="img-fluid my-3">
        <ul>
            <li>Method: POST</li>
            <li>Endpoint: <code>/api/cancel</code></li>
            <li>Description: Cancels the current transaction, empties the cart, and returns all inserted coins as change.</li>
            <li>Expected Response: JSON object with the refunded amount as change, e.g., <code>{ "change": {"10": 1, "1": 2}, "balance": 0 }</code>.</li>
        </ul>
    </p>
</section>
                <hr>
                <section id="reset">
    <p>
        <strong>Reset:</strong> This route completely resets the vending machine to its initial state. It clears the cart, resets the balance to zero, and empties any pending transactions without returning change.
        <img src="assets/images/cancel-Route.png" alt="Reset Route" class="img-fluid my-3">
        <ul>
            <li>Method: POST</li>
            <li>Endpoint: <code>/api/reset</code></li>
            <li>Description: Performs a complete system reset, returning the machine to its initial state without processing refunds.</li>
            <li>Expected Response: JSON object with the following structure:
                <pre><code>{
    "success": true,
    "message": "Machine reset successfully",
    "balance": 0,
    "cart": [],
    "change": {}
}</code></pre>
            </li>
            <li>Usage: This endpoint is typically used for administrative purposes or when needing to clear all pending transactions and start fresh. Unlike the cancel endpoint, it does not return inserted coins as change.</li>
        </ul>
    </p>
</section>
                    </section>
                <hr/>

                <!-- Frontend Documentation -->
                <section id="frontend-documentation" class="section">
                <h2 class="fw-bold fs-1 my-3">Frontend</h2>
                <p><strong>Overview:</strong> The frontend is responsible for creating an interactive user interface for the vending machine simulation. It uses modern web technologies to render a 3D vending machine, handle user interactions, and communicate with the backend API.</p>
                <p><strong>File tree:</strong></p>
                <p>
                    <img src="assets/images/frontend-file-tree.png" class="img-fluid my-3" alt="Frontend File Structure">
                </p>
                <p>
                    <img src="assets/images/frontend-src.png" class="img-fluid my-3" alt="Frontend Source Folder">
                </p>
                <p>
                    <img src="assets/images/frotend-components-folder.png" class="img-fluid my-3" alt="Frontend Components Folder">
                </p>
                <hr/>

                <!-- Folders -->
                <section id="frontend-folders">
                    <h3 class="fw-bold fs-4 my-3">Folders</h3>
                    <ul>
                        <li><strong>src:</strong> Contains the main source code for the frontend application, including components, assets, and styles.</li>
                        <li><strong>components:</strong> Includes reusable React components such as `VendingMachine3D.jsx`, `Menu.jsx`, `CoinPanel.jsx`, and `Keypad.jsx` that form the vending machine interface.</li>
                        <li><strong>assets:</strong> Stores static files such as images, icons, and 3D models (`.glb`) used in the vending machine simulation.</li>
                        <li><strong>styles:</strong> Contains CSS and SASS files for styling the application and ensuring responsiveness.</li>
                    </ul>
                </section>
                <hr/>

                <!-- Files -->
                <section id="frontend-files">
                    <h3 class="fw-bold fs-4 my-3">Files</h3>
                    <ul>
                        <li><strong>index.js:</strong> The entry point of the React application. It renders the root component and initializes the frontend.</li>
                        <li><strong>App.jsx:</strong> The main application component that sets up routing and renders the vending machine interface.</li>
                        <li><strong>components/VendingMachine3D.jsx:</strong> Implements the 3D vending machine interface using A-Frame and React. Handles product selection, coin insertion, and cart management.</li>
                        <li><strong>components/Menu.jsx:</strong> Displays the menu panel for user interactions, including coin insertion, keypad input, and cart actions.</li>
                        <li><strong>components/CoinPanel.jsx:</strong> Handles coin insertion and animates coins being added to the vending machine.</li>
                        <li><strong>components/Keypad.jsx:</strong> Provides a numeric keypad for selecting products by their ID.</li>
                        <li><strong>assets/objects:</strong> Contains 3D models (`.glb`) for rendering products in the vending machine interface.</li>
                        <li><strong>assets/coins:</strong> Stores images of coins used for the coin panel and change display.</li>
                        <li><strong>styles/style.css:</strong> Defines global styles for the application, ensuring a consistent look and feel.</li>
                    </ul>
                </section>
                <hr/>

                <!-- Use of A-Frame -->
                <section id="aframe-walkthrough">
                    <h3 class="fw-bold fs-4 my-3">Use of A-Frame</h3>
                    <p><strong>Overview:</strong> A-Frame is a web framework for building 3D and VR experiences. It is used to render the vending machine and products in a realistic 3D environment.</p>
                    <ul>
                        <li><strong>Scene Setup:</strong> Defines the 3D environment with sky and ground elements.</li>
                        <li><strong>Vending Machine Model:</strong> Renders the vending machine using `.glb` files.</li>
                        <li><strong>Product Display:</strong> Displays products as clickable 3D objects.</li>
                        <li><strong>Interaction:</strong> Allows users to interact with products via events like `click`.</li>
                    </ul>
                </section>
                <hr/>

                <section id="frontend-functions" class="section">
                <h3 class="fw-bold fs-4 my-3">Key VendingMachine3D Functions</h3>
                <p><strong>Overview:</strong> The VendingMachine3D component contains several critical functions that manage the 3D interface, product selection, cart management, and user interactions within the simulated environment.</p>
                <ul>
                <li><strong>handleSelectProductByNumber:</strong>
                    <p>Allows users to select products using their ID numbers from the keypad, verifying sufficient balance before adding to the cart.</p>
                    <pre class="jsx-code"><code>
<span class="keyword">const</span> handleSelectProductByNumber = () => {
    <span class="keyword">const</span> idx = <span class="function">parseInt</span>(productNumberInput, <span class="number">10</span>) - <span class="number">1</span>;
    <span class="keyword">if</span> (!<span class="function">isNaN</span>(idx) && idx >= <span class="number">0</span> && idx < products.length) {
        <span class="keyword">const</span> product = products[idx];
        <span class="keyword">if</span> (balance < product.price) {
            <span class="comment">// Not enough balance for this product</span>
            setProductNumberInput(<span class="string">''</span>);
            <span class="keyword">return</span>;
        }
        onSelectProduct(product.id);
        setCart(prev => [...prev, product]);
        setProductNumberInput(<span class="string">''</span>);
    }
};</code></pre>
    </li>
    <li><strong>handleKeypadOk:</strong>
        <p>Processes keypad input when the user confirms a product selection, validating the product number and balance.</p>
        <pre class="jsx-code"><code>
<span class="keyword">const</span> handleKeypadOk = () => {
    <span class="keyword">if</span> (productNumberInput === <span class="string">''</span>) <span class="keyword">return</span>;

    <span class="keyword">const</span> idx = <span class="function">parseInt</span>(productNumberInput, <span class="number">10</span>) - <span class="number">1</span>;
    <span class="keyword">if</span> (!<span class="function">isNaN</span>(idx) && idx >= <span class="number">0</span> && idx < products.length) {
        <span class="keyword">const</span> product = products[idx];
        <span class="comment">// Check if we have enough balance for this specific product</span>
        <span class="keyword">if</span> (balance >= product.price) {
            setCart(prev => [...prev, product]);
            onSelectProduct(product.id);
            setProductNumberInput(<span class="string">''</span>);
        } <span class="keyword">else</span> {
            <span class="comment">// Provide feedback - not enough balance for this product</span>
            <span class="function">console.log</span>(<span class="string">`Not enough balance for ${product.name}`</span>);
            setProductNumberInput(<span class="string">''</span>);
        }
    } <span class="keyword">else</span> {
        <span class="comment">// Invalid product number</span>
        setProductNumberInput(<span class="string">''</span>);
    }
};</code></pre>
    </li>
    <li><strong>handleConfirmPurchase:</strong>
        <p>Finalizes the purchase process by sending the current cart to the parent component for processing.</p>
        <pre class="jsx-code"><code>
<span class="keyword">const</span> handleConfirmPurchase = () => {
    <span class="keyword">if</span> (cart.length === <span class="number">0</span>) <span class="keyword">return</span>;
    <span class="keyword">if</span> (<span class="function">typeof</span> onConfirmPurchase === <span class="string">'function'</span>) {
        onConfirmPurchase();
    }
};</code></pre>
    </li>
    <li><strong>resetLocalState:</strong>
        <p>Resets all local state in the VendingMachine3D component, including cart, delivered products, and inputs.</p>
        <pre class="jsx-code"><code>
<span class="keyword">const</span> resetLocalState = () => {
    setCart([]);
    setDeliveredProducts([]);
    setProductNumberInput(<span class="string">''</span>);
    setInsertedCoins([]);

    <span class="keyword">if</span> (<span class="function">typeof</span> setCoinInput === <span class="string">'function'</span>) setCoinInput(<span class="string">''</span>);

    <span class="comment">// Call the parent's handleReset function</span>
    <span class="keyword">if</span> (<span class="function">typeof</span> handleReset === <span class="string">'function'</span>) {
        handleReset();
    }
};</code></pre>
    </li>
    <li><strong>cartSummary:</strong>
        <p>Aggregates items in the cart by product ID to show the quantity of each product selected.</p>
        <pre class="jsx-code"><code>
<span class="keyword">const</span> cartSummary = cart.reduce((acc, item) => {
    <span class="keyword">const</span> found = acc.find(i => i.id === item.id);
    <span class="keyword">if</span> (found) found.quantity += <span class="number">1</span>;
    <span class="keyword">else</span> acc.push({ ...item, quantity: <span class="number">1</span> });
    <span class="keyword">return</span> acc;
}, []);</code></pre>
    </li>
</ul>
                <p>These functions work together to create a seamless user experience in the 3D vending machine environment, handling everything from product selection to purchase confirmation while maintaining appropriate state throughout the transaction flow.</p>
            </section>
                <hr/>

                <!-- Interface UI -->
                <section id="interface-ui">
                <h3 class="fw-bold fs-4 my-3">Interface UI</h3>
                <div class="row mb-4">
                    <div class="col-md-12">
                        <h4 class="fw-bold fs-5 my-2">Key Interface Components</h4>
                        <ul>
                            <li><strong>Menu Panel:</strong> Displays balance, cart, and change. Includes buttons for confirming or canceling transactions.</li>
                            <li><strong>Keypad:</strong> Allows users to input product numbers. Includes buttons for adding products and clearing input.</li>
                            <li><strong>Coin Panel:</strong> Displays available coins for insertion. Animates coins being added to the vending machine.</li>
                            <li><strong>3D Interface:</strong> Renders the vending machine and products. Allows users to interact with products directly.</li>
                        </ul>
                    </div>
                </div>
                
                <h4 class="fw-bold fs-5 my-3">Transaction Flow UI States</h4>
                
                <div class="row d-flex align-items-center mb-3">
                    <div class="col-md-6">
                        <h5 class="fw-bold">Initial State</h5>
                        <p>When the application first loads, the vending machine displays available products with their prices. The balance is zero, and the cart is empty. Users can browse products but cannot make selections until coins are inserted.</p>
                        <ul>
                            <li>Zero balance displayed</li>
                            <li>Empty cart</li>
                            <li>All products visible but not selectable</li>
                            <li>Coin insertion panel ready</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <img src="assets/images/ui.png" alt="Initial UI State" class="img-fluid my-2 border rounded">
                        <p class="text-center text-muted small">Initial state with zero balance</p>
                    </div>
                </div>
                
                <div class="row d-flex align-items-center mb-3">
                    <div class="col-md-6">
                        <h5 class="fw-bold">After Coin Insertion</h5>
                        <p>Once coins are inserted, the balance updates and products that can be purchased with the current balance become highlighted and selectable. The UI provides visual cues to indicate which products are available based on the current balance.</p>
                        <ul>
                            <li>Updated balance reflecting inserted coins</li>
                            <li>Affordable products highlighted</li>
                            <li>Keypad activated for product selection</li>
                            <li>Animated coin insertion feedback</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <img src="assets/images/coinInsertion.png" alt="After Coin Insertion" class="img-fluid my-2 border rounded">
                        <p class="text-center text-muted small">UI after coins have been inserted</p>
                    </div>
                </div>
                
                <div class="row d-flex align-items-center mb-3">
                    <div class="col-md-6">
                        <h5 class="fw-bold">Product Selection</h5>
                        <p>When products are selected, they appear in the cart with quantity indicators. The total price is calculated and displayed. Users can continue adding products as long as they have sufficient balance.</p>
                        <ul>
                            <li>Selected products shown in cart</li>
                            <li>Quantity indicators for multiple selections</li>
                            <li>Total price calculation</li>
                            <li>Confirm purchase button activated</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <img src="assets/images/canBuy-Product.png" alt="Product Selection" class="img-fluid my-2 border rounded">
                        <p class="text-center text-muted small">UI with selected products in cart</p>
                    </div>
                </div>
                
                <div class="row mb-3 d-flex align-items-center">
                    <div class="col-md-6">
                        <h5 class="fw-bold">Purchase Confirmation</h5>
                        <p>After confirming the purchase, the UI shows the dispensed products and any change returned. The balance resets to zero and the cart empties, preparing for the next transaction.</p>
                        <ul>
                            <li>Dispensed products displayed at bottom of machine</li>
                            <li>Change calculation and display</li>
                            <li>Reset balance and cart</li>
                            <li>Transaction completion message</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <img src="assets/images/confirmPurchase-Products.png" alt="Purchase Confirmation" class="img-fluid my-2 border rounded">
                        <p class="text-center text-muted small">UI after purchase confirmation</p>
                    </div>
                </div>
                
                <p class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i> The interface provides clear visual feedback throughout the entire transaction process, making it intuitive for users to understand their current balance, selected products, and available actions at each step.
                </p>
            </section>
            <!-- Video Demonstration Section -->
            <section id="video-demonstration">
            <h4 class="fw-bold fs-5 my-4">Video Demonstration</h4>

            <div class="row mb-4">
                <div class="col-md-12">
                    <div class="ratio ratio-16x9 mb-3 border rounded shadow">
                        <iframe 
                            src="https://www.youtube.com/embed/oUYrvtr8TXY?si=uuc1etfHt7Jltv-z" 
                            title="Vending Machine Simulation Demonstration" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" 
                            allowfullscreen
                        ></iframe>
                    </div>
                    
                    <div class="card bg-light mb-4">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">Complete Vending Machine Walkthrough</h5>
                            <p class="card-text">
                                This video provides a comprehensive demonstration of the vending machine simulation, showcasing all major features and user interactions:
                            </p>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li>Interface exploration and layout overview</li>
                                        <li>Coin insertion process with real-time balance updates</li>
                                        <li>Product selection using both 3D interface and keypad</li>
                                        <li>Cart management functionality</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li>Transaction confirmation workflow</li>
                                        <li>Change calculation and dispensing</li>
                                        <li>Error handling and validation</li>
                                        <li>Complete transaction lifecycle</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </section>
            <hr/>
            <!-- Resources Section -->
            <section id="resources" class="section">
                <h2 class="fw-bold fs-4 my-3">Resources</h2>
                <p><strong>Overview:</strong> Below are some helpful resources related to the vending machine simulation project, including documentation, tutorials, and tools.</p>
                <ul>
                    <li><strong>Project Repository:</strong> <a href="https://github.com/designcraftsman/distributeur-automatique" target="_blank">GitHub Repository</a> - Access the source code and documentation for the project.</li>
                    <li><strong>A-Frame Documentation:</strong> <a href="https://aframe.io/docs/" target="_blank">A-Frame Official Documentation</a> - Learn more about building 3D and VR experiences.</li>
                    <li><strong>React Documentation:</strong> <a href="https://reactjs.org/docs/getting-started.html" target="_blank">React Official Documentation</a> - Explore React concepts and tutorials.</li>
                    <li><strong>Bootstrap Documentation:</strong> <a href="https://getbootstrap.com/docs/5.3/getting-started/introduction/" target="_blank">Bootstrap Official Documentation</a> - Learn how to use Bootstrap for responsive design.</li>
                    <li><strong>Postman:</strong> <a href="https://www.postman.com/" target="_blank">Postman API Testing Tool</a> - Test and debug API endpoints efficiently.</li>
                    <li><strong>Docker:</strong> <a href="https://docs.docker.com/" target="_blank">Docker Documentation</a> - Learn how to use Docker for containerized applications.</li>
                    <li><strong>Node.js:</strong> <a href="https://nodejs.org/en/docs/" target="_blank">Node.js Official Documentation</a> - Learn about the JavaScript runtime used for the backend.</li>
                    <li><strong>Express:</strong> <a href="https://expressjs.com/" target="_blank">Express Official Documentation</a> - Explore the lightweight web framework used for API development.</li>
                    <li><strong>SASS:</strong> <a href="https://sass-lang.com/documentation" target="_blank">SASS Official Documentation</a> - Learn how to write modular and maintainable styles for the application.</li>
                    <li><strong>Sketchfab:</strong> <a href="https://sketchfab.com/" target="_blank">Sketchfab</a> - Explore and download 3D models for use in the vending machine simulation.</li>
                </ul>
                <p class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i> These resources will help you understand the technologies used in the project and guide you through development and testing.
                </p>
            </section>
            
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/index.js"></script>
</body>
</html>
